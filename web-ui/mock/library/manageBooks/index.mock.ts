import { defineMock, MockOptions } from 'vite-plugin-mock-dev-server';
import _ from 'lodash';
import { size } from 'lodash';

const data = [
	{
		id: 1,
		accessionNo: '000001',
		bookType: 'regular',
		bookAccessionId: '1',
		title: 'A TEXT BOOK OF APPLIED MATHEMATICSDD',
		author: 'WARTIKAR, P. N./WARTIKAR J. N.XD',
		edition: '9EDITION',
		volume: '4',
		namePublication: 'Pune Vidyarthi Griha Prakashan',
		placePublication: 'Pune',
		yearPublication: 1997,
		series: 'hjksa',
		actualPrice: 135,
		discount: 15,
		discountPrice: 115,
		RecommBy: '',
		subject: '',
		vendor: 'SHRI SAMARTH BOOK DEPOT',
		receivedDate: '1998-01-12',
		receivedCode: '',
		billNo: 0,
		billDate: '1998-01-12',
		accessionDate: '1998-01-12',
		pages: 716,
		classNo: '566',
		bookNo: 'gbhnjm',
		remarks: '',
		materialStatus: 'Text Book',
		langCode: 'eng',
		materialName: 'Books',
		location: 'FE ',
		cupboard: 'A-7',
		selfNumber: '',
		isdiploma: 'false',
		department: 'NA',
		otherLangTitle: 'मंगळवार',
		source: 'transfer',
		organisation: '',
		collegeName: 'ssdds',
	},
	{
		id: 2,
		accessionNo: '000002',
		bookType: 'bookbank',
		bookAccessionId: '1',
		title: 'Comprehensive Engineering Mathematics',
		author: 'Bali, N. P.',
		edition: '4 th',
		volume: '3',
		namePublication: 'Laxmi Publication',
		placePublication: 'New Delhi',
		yearPublication: 1996,
		series: '1',
		actualPrice: 135,
		discount: 0,
		discountPrice: 115,
		RecommBy: '',
		subject: 'Mathematics',
		vendor: 'Shri Samarth Book Depot',
		receivedDate: '1998-01-12',
		receivedCode: '',
		billNo: 2820,
		billDate: '1998-01-10',
		accessionDate: '1998-01-15',
		pages: 1020,
		classNo: '1020',
		bookNo: 'BALI',
		remarks: '',
		materialStatus: 'On Shelf',
		langCode: 'eng',
		materialName: 'Books',
		location: 'FE',
		cupboard: 'A-7',
		selfNumber: '',
		isdiploma: 'false',
		department: '2',
		otherLangTitle: null,
		source: 'donation',
		organisation: 'lotus school',
		collegeName: 'null',
	},
	{
		id: 3,
		accessionNo: '000003',
		bookType: 'regular',
		bookAccessionId: '1',
		title: 'Comprehensive Engineering Mathematics',
		author: 'Bali, N. P.',
		edition: '4th ',
		volume: '-',
		namePublication: 'Laxmi Publication',
		placePublication: 'New Delhi',
		yearPublication: 1996,
		series: '-',
		actualPrice: 135,
		discount: 15,
		discountPrice: 115,
		subject: 'Mathematics',
		vendor: 'Shri Samarth Book Depot',
		receivedDate: '1998-01-12',
		receivedCode: '',
		billNo: 2820,
		billDate: '1998-01-10',
		accessionDate: '1998-01-15',
		pages: 1020,
		classNo: '510',
		bookNo: 'BALI',
		remarks: '',
		materialStatus: 'On Shelf',
		langCode: 'eng',
		materialName: 'Books',
		location: 'FE',
		cupboard: 'A-7',
		selfNumber: '',
		isdiploma: 0,
		department: '3',
		otherLangTitle: null,
		source: 'purchase',
		organisation: null,
		collegeName: null,
	},
];

const mockMethods = [
	{
		url: '/:api?/:tenant?/v1/library/manageBooks/list',
		method: 'GET',
		body() {
			return {
				code: 200,
				data: {
					total: data.length,
					records: data,
				},
			};
		},
	},
	{
		url: '/:api?/:tenant?/v1/library/manageBooks/get/:id?',
		method: 'GET',
		body({ params }) {
			const rec = _.find(data, { id: params.id });
			return {
				code: 200,
				data: {
					total: size(rec),
					records: data[0],
				},
			};
		},
	},
] as MockOptions;

export default defineMock(mockMethods);
